<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" /> -->
    <!-- <script src="css/css.style"></script> -->
    <!-- link jQuery -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ"
        crossorigin="anonymous">

    <head>
        <meta charset="UTF-8">
        <title>TMNT: Save Splinter from Shredders Evil Plans!</title>
    </head>

<body>
    <div class="top containter">

        <p id="directions-text">Guess the name of one of turtles nemesis that abducted Master Splinter!</p>
    </div>
    <p id="Turtles-text"></p>
    <p id="Henchman-text"></p>
    <p id="wins-text"></p>
    <p id="losses-text"></p>
    <p id="ties-text"></p>
    </div>
    <script>
        //Create variables that hold references to the places in the HTML where we want to display things.
        var directionsText = document.getElementById("directions-text");
        var TurtlesText = document.getElementById("Turtles-text");
        var HenchmanText = document.getElementById("Henchman-text");
        var winsText = document.getElementById("wins-text");
        var lossesText = document.getElementById("losses-text");
        var tiesText = document.getElementById("ties-text");
        var guessesleft = document.getElementById("guesses-left")

        // this array contains our henchman for the game
        var Henchman = ["Bebop", "Krang", "Rat King", "Rocksteady", "Shredder", "Slash",
            "Baxter Stockman", "General Traag", "Tokka", "Razhar", "Dragon Lord",
            "Tatsu", "Rock Soliders", "Foot Clan", "Leather Head", "Fishface",
            "Hun", "Triceratons"
        ];

        //this variable will holds the number of guess left
        var guessesleft = 10;


        // this variable will count the number of times we win
        var winsText = 0;
        var resetGuess = ""



        //this is empty array to push the letters from the current word choosen
        let underScore = [];

        //this is empty arrays to push blanks to the page
        let userpushkey = [];

        //process for selecting word
        let randNum = [Math.floor(Math.random() * Henchman.length)];
        console.log(randNum);
        let choosenWord = Henchman[randNum];
        console.log(choosenWord.toUpperCase());

        //creating underscores based on lenght of word website 1:07
        for (var i = 0; i < choosenWord.length; i++) {
            underScore.push("_");
            underScore.toString()
            document.getElementById("Henchman-text").innerHTML = underScore.join(" ");
        };
        console.log(underScore);

        //Determines which key was pressed.
        document.onkeyup = function(event) {
        var userGuess = event.key;
        console.log(userGuess);
        userpushkey.push(userGuess);
        userpushkey.toString()
        document.getElementById("Turtles-text").innerHTML = userpushkey.join(" ");

        //game alert logic
        document.onkeyup = function (event) {
            letter = event.keyCode;
            userpushkey = String.fromCharCode(letter);
            console.log(userpushkey);

            //This will alert correct and compare the letter guessed with the current word
            if (userpushkey === underScore[0] || userpushkey === underScore[1] ||
                userpushkey === underScore[2] || userpushkey === underScore[3] ||
                userpushkey === underScore[4] || userpushkey === underScore[5] ||
                userpushkey === underScore[6] || userpushkey === underScore[7] ||
                userpushkey === underScore[8] || userpushkey === underScore[9] ||
                userpushkey === underScore[10] || userpushkey === underScore[11] ||
                userpushkey === underScore[12] || userpushkey === underScore[13] ||
                userpushkey === underScore[14] || userpushkey === underScore[15] ||
                userpushkey === underScore[16] || userpushkey === underScore[17] ||
                userpushkey === underScore[18] || userpushkey === underScore[19] ||
                userpushkey === underScore[20]) {
                // alert("CORRECT!");

                // replace progress Word underscore with letter pressed
                document.getElementById("Henchman-Text").innerHTML = underScore.join(" ");
            } else {
                alert("WRONG!");
                document.getElementById("Turtle-text").innerHTML += userpushkey + " ";

                // subtract a point from guesses left
                guessesLeft--;
                document.getElementById("guesses-left").innerHTML = guessesLeft;
            }

            //This code will tell the user the game is over along with a message about
            // their win streak, then it will reset the game while quickly showing 
            // what the word was
            if (guessesLeft === 0) {
                alert("Game Over Turtles! Now for some Turtle Soup " + winsText + " wins! The henchman was " +
                    choosenWord);
                location.reload();
                document.getElementById("word-guess").innerHTML = choosenWord;
            }

            // this is the code that alerts you when you've won the game, then it will reset 
            // the current word to begin another round
            if (userpushkey === underScore) {
                var phrases = ['Cowabunga!', 'Do not mess with Lean mean Turtles!', 'No Pizza for you Bro!',
                    'Should we go after?!? or Just let go cry to Shredder?!', 'We did it guys!',
                    'Turtleeee-Power!', 'Now you know about our Turtle-foo, come back for seconds anytime!'
                ]
                var nextRound = phrases[Math.floor(Math.random() * phrases.length)];
                alert(nextRound);

                // reset guesses left
                guessesLeft = 10;
                //document.getElementById("guesses-left").innerHTML = guessesLeft;

                // reset letters guessed
                //document.getElementById("letters-guessed").innerHTML = resetLettersGuessed;

                // This code generates a new word to guess and then pushes out the blanks again
                //choosenWord = Henchman[Math.floor(Math.random() * Henchman.length)].toUpperCase();

                //underScore = [];
                //for (var i = 0; i < choosenWord.length; i++) {
                //underScore.push("__");
                //underScore.toString()
                //document.getElementById("word-guess").innerHTML = progressWord.join(" ");
                //}

                //mysteryWord = []
                //for (var i = 0; i < currentWord.length; i++) {
                //  mysteryWord.push(currentWord.charAt(i));
                //   mysteryWord.toString(i)
                // }
                //console.log(currentWord);
                //console.log(progressWord);
                //console.log(mysteryWord);

                // Add to the win total
                winsText++;
                document.getElementById("wins-text").innerHTML = winsText;
            }
        }}
    </script>

</html>